<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>util Demo</title>
    <script src="util.js"></script>
    <script>
    'use strict';
    document.addEventListener('DOMContentLoaded', function (e) {
        // 防抖函数
        /*var denounceFun = util['function']['denounce'](function (e) {
            // console.log(e);
            // console.log(this);
            console.log(e.offsetX);
            return e.offsetX;
        }, 300, true);
        document.getElementsByTagName('h1')[0].addEventListener('mousemove', function (e) {
            denounceFun(e);
        });*/

        // 节流函数
        /*var throttleFun = util['function']['throttle'](function (e) {
            console.log(e);
            console.log(this);
        }, 500, { leading: false });
        document.getElementsByTagName('h1')[0].addEventListener('mousemove', throttleFun);*/

        // 对象深度克隆
        /*var obj2 = {
            name: '袁野',
            age: 22,
            value: null
        },
        obj1 = {
            name: 'yuanye',
            like: ['coding', 'reading'],
            fun: function () {
                console.log(123);
            },
            toObj: obj2
        },
        arr = [1, 2, 3, {
            name: 4
        }];
        var newObj = util['object'].deepClone(obj1),
            newArr = util['object'].deepClone(arr);
        obj2.name = '123';
        console.log(obj1);
        console.log(newObj);
        console.log(newArr);*/

        // 数组去重
        /*var arr = [1,3,4,5,1,1,1];
        console.log(util['array']['arrUnique'](arr));*/

        // 对象拓展
        /*var obj = {
            name: 'yy',
            like: [1, 2, 3],
            a: {
                a1: 1
            }
        };
        console.log(util['object']['deepAssign'](obj, {
            like: [4, 5, 6],
            a: {
                a2: 2
            }
        }));
        console.log(util['object']['assign'](obj, {
            like: [4, 5, 6],
            a: {
                a2: 2
            }
        }));
        // 测试循环引用
        console.log(util['object']['deepAssign'](obj, {
            like: [4, 5, 6],
            a: obj
        }));
        console.log(util['object']['assign'](obj, {
            like: [4, 5, 6],
            a: obj
        }));*/

        // 数组扁平化
        /*var arr = [1,2,[3,4,5,[6,7,8]]];
        console.log(util['array']['flatten'](arr));
        console.log(util['array']['flatten'](arr, true, true));
        console.log(util['array']['flatten'](arr, false, true));
        console.log(util['array']['flatten'](arr, true, false));*/

        // 数组取并集
        /*var a1 = [1, 2, 3, 7, 8];
        var a2 = [1, 2, 3, 4, 5, 6, [7, 8]];
        console.log(util['array']['union'](a1, a2));
        console.log(util['array']['union'](a1, a2, 11, 13, {}));*/

        // 数组取反集
        /*var a1 = [1, 2, 3];
        var a2 = [3, 4, 6];
        console.log(util['array']['diff'](a1, a2));
        console.log(util['array']['diff'](a1));*/

        // 数组比对，递归比对所有值
        /*var a1 = [NaN, 2, 3, [3, 4]];
        var a2 = [NaN, 2, 3, [3, 4]];
        console.log(util['array']['equalArr'](a1, a2));
        console.log(util['array']['equalArr'](a1, a2, []));*/

        // 对象比对，递归比对所有自有属性
        /*var o1 = {
            name: '123',
            age: 22,
            // like: [],
            selfWrap: {}
        };
        var o2 = {
            name: '123',
            age: 22,
            // like: [],
            selfWrap: {}
        };
        o1.selfWrap.self = o1;
        o2.selfWrap.self = o2;
        // console.log(util['object']['equalObj'](o1, o2));
        console.log(util['object']['equalObj'](o1, o2));*/

        // 科里化函数
        /*util['function']['curry'](function (a1, a2, a3) {
            console.log(a1);
            console.log(a2);
            console.log(a3);
        }, ['a1'])('a2', 'a3');
        util['function']['curry'](function (b1, b2, b3) {
            console.log(b1);
            console.log(b2);
            console.log(b3);
        })('b1')('b2')('b3');*/

        // 偏函数（局部应用）
        var addOne = partial(function (a, b) {
            console.log(a + b);
        }, 1);
        addOne.call({name: 123}, 2);

        // 函数栈组合
        /*var arrFun = [
            function (arg, next) {
                console.log('fun1 first');
                console.log(arg);
                next();
                console.log('fun1 second');
            },
            function (arg, next) {
                console.log('fun2 first');
                console.log(arg);
                next();
                console.log('fun2 second');
            }
        ];
        util['function']['composeFun'](arrFun)('hahaha');*/
    });
    </script>
    <style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    h1 {
        display: inline-block;
        margin: 0;
    }
    body::before {
        content: '';
        width: 0;
        height: 100%;
        vertical-align: middle;
        display: inline-block;
    }
    </style>
</head>
<body>
    <h1>util demo</h1>
</body>
</html>
